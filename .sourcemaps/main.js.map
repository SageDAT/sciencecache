{"version":3,"sources":["../../src/providers/visit/visit.ts","../../src/providers/location-tracker/location-tracker.ts","../../src/pages/registration/registration.ts","../../src/pages/settings/settings.ts","../../src/pages/route/route.ts","../../src/pages/waypoint/waypoint.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/help/help.ts","../../src/pages/visits/visits.ts","../../src/pages/routes/routes.ts","../../src/providers/local-science-cache/local-science-cache.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/environments/environment.ts","../../src/providers/remote-science-cache/remote-science-cache.ts","../../src/providers/route/route.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core'\nimport { Http } from '@angular/http'\nimport 'rxjs/add/operator/map'\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject'\nimport { Subscription } from 'rxjs/Subscription'\nimport { RouteProvider } from '../route/route'\nimport { LocationTrackerProvider } from '../location-tracker/location-tracker'\nimport { LocalScienceCacheProvider } from '../local-science-cache/local-science-cache'\n\n/*\n  Generated class for the VisitProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class VisitProvider {\n\n  currentVisit:any = null\n  _currentVisit = new BehaviorSubject <any> ([])\n  currentVisit$ = this._currentVisit.asObservable()\n  onVisit: boolean = false\n  _onVisit = new BehaviorSubject <any> ([])\n  onVisit$ = this._onVisit.asObservable()\n  currentLocation: any\n  currentWaypoint: any\n  currentWaypointSubscription: Subscription\n  waypointFound: boolean = false\n  _waypointFound = new BehaviorSubject<any> ([])\n  waypointFound$ = this._waypointFound.asObservable()\n\n\n  constructor(public http: Http, public routeProvider: RouteProvider, public locationTracker: LocationTrackerProvider, public lscService: LocalScienceCacheProvider) {\n    this.currentWaypointSubscription = this.routeProvider._currentWaypoint.subscribe(currentWaypoint=> {\n      this.currentWaypoint = currentWaypoint;\n    })\n    this._onVisit.next(this.onVisit)\n    this._currentVisit.next(this.currentVisit)\n  }\n\n  createNewVisit() {\n    var blankVisit = {\n      created_date: new Date(),\n      uploaded_date: null,\n      questions_answered: 0,\n      total_questions: 0,\n      route_name: this.routeProvider.currentRoute.name,\n      route_id: this.routeProvider.currentRoute.route_id,\n      route_version: this.routeProvider.currentRoute.route_version,\n      waypoints: this.routeProvider.getWaypoints(),\n      waypoints_visited: 0,\n      photos_taken: 0,\n      submitted: false\n    }  \n    this.currentVisit = blankVisit\n    console.log(this.currentVisit)\n    this._currentVisit.next(this.currentVisit)\n    this._waypointFound.next(this.waypointFound)\n  }\n\n  setWaypointFound(id) {\n    console.log('Waypoint Found.')\n    this.waypointFound = true\n    this._waypointFound.next(this.waypointFound)\n    for (var waypoint in this.currentVisit.waypoints) {\n      if (this.currentVisit.waypoints[waypoint].id == id) {\n        if (this.currentVisit.waypoints[waypoint].waypoint_found != true) {\n          this.currentVisit.waypoints[waypoint].waypoint_found = true\n          this.currentVisit.waypoints_visited = this.currentVisit.waypoints_visited + 1\n          this._currentVisit.next(this.currentVisit)\n        }\n      }\n    }\n    this._currentVisit.next(this.currentVisit)\n  }\n\n  updateWaypoints() {\n    this.currentLocation = this.locationTracker.getCurrentLocation()\n\n    for (var waypoint in this.currentVisit.waypoints) {\n      var waypointName = '<strong>' + this.currentVisit.waypoints[waypoint].name +'</strong><br />'\n      var waypointLat = 'Latitude: ' + this.currentVisit.waypoints[waypoint].latitude + '<br />'\n      var waypointLong = 'Longitude: ' + this.currentVisit.waypoints[waypoint].latitude + '<br />'\n      var waypointBearing = ''\n      var waypointDistance = ''\n      \n      if (this.currentLocation.coords) {\n        this.currentVisit.waypoints[waypoint].distance = this.locationTracker.getDistanceFromLatLonInKm(this.currentLocation.coords.latitude,this.currentLocation.coords.longitude,this.currentVisit.waypoints[waypoint].latitude,this.currentVisit.waypoints[waypoint].longitude) * 1000\n        this.currentVisit.waypoints[waypoint].bearing = this.locationTracker.getBearingfromLatLong(this.currentLocation.coords.latitude,this.currentLocation.coords.longitude,this.currentVisit.waypoints[waypoint].latitude,this.currentVisit.waypoints[waypoint].longitude)\n\n        var waypointBearing = 'Bearing: ' + this.currentVisit.waypoints[waypoint].bearing + '<br />'\n        var waypointDistance = 'Distance: ' + this.currentVisit.waypoints[waypoint].distance + '<br />'\n      } else {\n        this.currentVisit.waypoints[waypoint].distance = NaN\n        this.currentVisit.waypoints[waypoint].bearing = NaN\n      }\n      \n      this.currentVisit.waypoints[waypoint].message = waypointName + waypointLat + waypointLong + waypointBearing + waypointDistance\n    }\n  }\n\n  getWaypointFound(id) {\n   if (this.currentVisit) {\n     for (var waypoint in this.currentVisit.waypoints) {\n        if (this.currentVisit.waypoints[waypoint].id == id) {\n          if (this.currentVisit.waypoints[waypoint].waypoint_found != true) {\n            this.waypointFound = false\n          } else {\n            this.waypointFound = true\n          }\n          this._waypointFound.next(this.waypointFound)\n        }\n      } \n    } else {\n      this.waypointFound = false\n      this._waypointFound.next(this.waypointFound)\n    }\n  }\n\n  saveCurrentVisit() {\n    for (var waypoint of this.currentVisit.waypoints) {\n      this.currentVisit.total_questions = this.currentVisit.total_questions + waypoint.data_requests.length\n      this.currentVisit.questions_answered = this.currentVisit.questions_answered + waypoint.data.length\n      this.currentVisit.photos_taken = this.currentVisit.photos_taken + waypoint.photos.length\n    }\n    this.lscService.saveVisit(this.currentVisit)\n  }\n\n  addWaypoint() {\n  }\n      \n  setOnVisit(onVisit) {\n    this.onVisit = onVisit\n    this._onVisit.next(this.onVisit)\n    if (onVisit == true) {\n      this.createNewVisit()\n    }\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/visit/visit.ts","import { Injectable, NgZone } from '@angular/core';\nimport { BackgroundGeolocation } from '@ionic-native/background-geolocation';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Geolocation, Geoposition } from '@ionic-native/geolocation';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/Rx';\n\n/*\n  Generated class for the LocationTrackerProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class LocationTrackerProvider {\n\n  public watch: any\n  public lat: number = 0\n  public lng: number = 0\n  currentLocation:any = {}\n  _currentLocation = new BehaviorSubject < any > ([])\n  currentLocation$ = this._currentLocation.asObservable()\n\n  constructor(public zone: NgZone, public backgroundGeolocation: BackgroundGeolocation, public geolocation: Geolocation) {\n  }\n \n  getCurrentLocation() {\n    return this.currentLocation\n  }\n\n   // Credit: http://stackoverflow.com/a/27943/52160\n   // ToDo: This should probably be replaced with the haversine formula.\n   getDistanceFromLatLonInKm(latitude1,longitude1,latitude2,longitude2) {\n    var R = 6371; // Radius of the earth in km\n    var dLat = this.degreeToRadian(latitude2-latitude1);\n    var dLon = this.degreeToRadian(longitude2-longitude1);\n    var a =\n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(this.degreeToRadian(latitude1)) * Math.cos(this.degreeToRadian(latitude2)) *\n      Math.sin(dLon/2) * Math.sin(dLon/2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    var distance = R * c; // Distance in km\n    return distance;\n   }\n\n/*   function getBearingfromLatLong(latitude1, longitude1, latitude2, longitude2) {\n     var dLon = (lng2-lng1);\n             var y = Math.sin(dLon) * Math.cos(lat2);\n             var x = Math.cos(lat1)*Math.sin(lat2) - Math.sin(lat1)*Math.cos(lat2)*Math.cos(dLon);\n             var brng = this._toDeg(Math.atan2(y, x));\n             return 360 - ((brng + 360) % 360);  }\n*/\n  \n   degreeToRadian(deg) {\n    return deg * (Math.PI/180)\n   }\n\n   getBearingfromLatLong(latitude1, longitude1, latitude2, longitude2) {\n     var dLon = this._toRad(longitude2 - longitude1);\n     var y = Math.sin(dLon) * Math.cos(this._toRad(latitude2));\n     var x = Math.cos(this._toRad(latitude1)) * Math.sin(this._toRad(latitude2)) - Math.sin(this._toRad(latitude1)) * Math.cos(this._toRad(latitude2)) * Math.cos(dLon);\n     var brng = this._toDeg(Math.atan2(y, x));\n     return ((brng + 360) % 360);\n   };\n\n   _toRad(deg) {\n     return deg * Math.PI / 180;\n   };\n\n   _toDeg(rad) {\n     return rad * 180 / Math.PI;\n   };\n\n\n\n\n  startTracking() {\n    let config = {\n      desiredAccuracy: 0,\n      stationaryRadius: 20,\n      distanceFilter: 10, \n      debug: true,\n      interval: 5000 \n    }\n    this.backgroundGeolocation.configure(config).subscribe((location) => {\n      this.zone.run(() => {\n        this.lat = location.latitude;\n        this.lng = location.longitude;\n      }); \n    }, \n    (err) => {\n      console.log(err);\n    });\n    this.backgroundGeolocation.start();\n    let options = {\n      frequency: 5000, \n      enableHighAccuracy: true\n    }\n    this.watch = this.geolocation\n      .watchPosition(options)\n      .filter((p: any) => p.code === undefined)\n      .subscribe((position: Geoposition) => {\n        this.currentLocation = position\n        this._currentLocation.next(this.currentLocation)\n        this.zone.run(() => {\n          this.lat = position.coords.latitude\n          this.lng = position.coords.longitude\n        })\n      })\n   }\n  \n  stopTracking() {\n    this.backgroundGeolocation.finish()\n    this.backgroundGeolocation.stop()\n    this.watch.unsubscribe();\n  } \n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/location-tracker/location-tracker.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {RemoteScienceCacheProvider} from \"../../providers/remote-science-cache/remote-science-cache\";\nimport {Device} from \"@ionic-native/device\";\nimport {RoutePage} from \"../route/route\";\nimport {TabsPage} from \"../tabs/tabs\";\nimport { Storage } from '@ionic/storage';\n\nexport class DeviceInfo {\n  user_email: String;\n  cordova: String;\n  uuid: String;\n  model: String;\n  platform: String;\n  version: String;\n  manufacturer: String;\n  is_virtual: String;\n  serial: String;\n\n  constructor(email, cordova, uuid, model, platform, version, manufacturer, isVirtual, serial) {\n    this.user_email = email;\n    this.cordova = cordova;\n    this.uuid = uuid;\n    this.model = model;\n    this.platform = platform;\n    this.version = version;\n    this.manufacturer = manufacturer;\n    this.is_virtual = isVirtual;\n    this.serial = serial;\n  }\n\n}\n\n/**\n * Generated class for the RegistrationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-registration',\n  templateUrl: 'registration.html',\n})\nexport class RegistrationPage {\n\n  isRegistered:boolean = false;\n  emailProvided:boolean = false;\n  email:string = null;\n  deviceinfo:any = null\n  isValidEmail:boolean = null;\n  registrationFailed: boolean = null;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public rscService: RemoteScienceCacheProvider,\n              private device: Device, private storage: Storage) {}\n\n  setDeviceInfo() {\n    if(this.email){\n      this.email = this.email.trim()\n      if(this.email == '') this.email = null\n    }\n\n    const deviceinfo = new DeviceInfo(this.email, this.device.cordova, this.device.uuid, this.device.model,\n      this.device.platform, this.device.version, this.device.manufacturer, this.device.isVirtual, this.device.serial)\n\n    return deviceinfo\n  }\n\n  sendDeviceInfo() {\n    this.deviceinfo = this.setDeviceInfo()\n    console.log('will send: ', JSON.stringify(this.deviceinfo))\n    this.rscService.postDeviceData(this.deviceinfo)\n      .subscribe( data => {\n        console.log('Registration success.', data)\n        this.isRegistered = true\n        this.storage.set('deviceinfo', this.deviceinfo)\n        if(this.deviceinfo.user_email) {\n          this.emailProvided = true\n        } else {\n          this.emailProvided = false\n        }\n      }, error => {\n        console.log('Registering failed.', JSON.stringify(error))\n        this.registrationFailed = true\n      });\n  }\n\n  setup() {\n\n    this.storage.get('deviceinfo').then((val) => {\n      console.log('Loading device info ', val);\n      if(val && val.uuid) {\n        // this.isRegistered = true\n        this.gotoRoutes()\n      }\n    });\n\n    if(this.isRegistered) {\n      this.gotoRoutes()\n    }\n  }\n\n  gotoRoutes() {\n    this.navCtrl.push(TabsPage)\n  }\n\n  ngOnInit() {\n    // this.storage.remove('deviceinfo')\n    this.setup()\n    this.deviceinfo = this.setDeviceInfo()\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegistrationPage');\n  }\n\n  checkValidEmail() {\n    this.isValidEmail = false\n    if(this.email == null) {\n      this.isValidEmail = true\n    }\n    if(this.email == '') {\n      this.isValidEmail = true\n    }\n    if(this.email) {\n\n    }\n    return this.isValidEmail\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/registration/registration.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { LocalScienceCacheProvider } from '../../providers/local-science-cache/local-science-cache'\n\n/**\n * Generated class for the SettingsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  template: `<ion-list>\n      <ion-list-header>Settings</ion-list-header>\n      <button ion-item (click)=\"resetDB()\">Erase Local Data</button>\n    </ion-list>`,\n})\nexport class SettingsPage {\n\n  constructor(public navCtrl: NavController, private lscService: LocalScienceCacheProvider) {\n  }\n\n  ionViewDidLoad() {\n  }\n\n  resetDB() {\n    this.lscService.wipeRoutesDB()\n    this.lscService.wipeVisitsDB()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AlertController } from 'ionic-angular'\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Subscription } from 'rxjs/Subscription';\nimport { VisitProvider } from '../../providers/visit/visit'\nimport { RouteProvider } from '../../providers/route/route'\nimport { WaypointPage } from '../waypoint/waypoint'\nimport { Device } from \"@ionic-native/device\"\nimport { LocalScienceCacheProvider } from '../../providers/local-science-cache/local-science-cache'\nimport { RemoteScienceCacheProvider } from '../../providers/remote-science-cache/remote-science-cache'\nimport { LocationTrackerProvider } from '../../providers/location-tracker/location-tracker'\nimport * as L from 'leaflet'\n\n/**\n * Generated class for the RoutePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-route',\n  templateUrl: 'route.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class RoutePage implements OnInit {\n  currentRouteSubscription: Subscription\n  currentLocationSubscription: Subscription\n  currentVisitSubscription: Subscription\n  onVisitSubscription: Subscription\n  id: any\n  map: any = null\n  waypointMarkers:any = []\n  leafletWaypointMarkers:any = []\n  waypoints:any = []\n  updateTimeSecs = 3  \n  siteInformationToggle: boolean = false\n  waypointFinderToggle: boolean = false\n  waypointsToggle: boolean = false\n  visitToggle: boolean = false\n  warningShown: boolean = false\n  mapLoaded: boolean = false\n  investigatingWaypoint: boolean = false\n  showWaypointFinder: boolean = false\n  onStreet:boolean = true\n  onVisit:boolean = false\n  currentRoute: any = null\n  currentLocationMarker: any\n  currentLocation:any = null\n  currentVisit: any = null\n  compass: any = {\n    waypoint: 0,\n    waypoint_title: 'No Waypoint Loaded.',\n    waypoint_number: 1,\n    waypoint_distance: '??? meters',\n    waypoint_bearing: '??? ',\n    current_heading: -1,\n    current_speed: 0,\n    true_bearing: 0\n  }\n  mapLayer:string = 'street'\n  esriAttribution:string = \"ESRI Attrib\"\n  LAYER_OSM = {\n    id: 'arcgistopo',\n    name: 'USGS World Topo Map',\n    enabled: true,\n    layer: L.tileLayer('https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {\n      maxZoom: 19,\n      attribution: 'National Map USGS Topo'\n    })\n  }\n  LAYER_OCM = {\n    id: 'arcgissat',\n    name: 'ArcGIS World Imagery',\n    enabled: true,\n    layer: L.tileLayer('https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\n      maxZoom: 19,\n      attribution: 'ArcGIS World Imagery'\n    })\n  }\n\n  constructor(public navCtrl: NavController, public alertController: AlertController, public navParams: NavParams, public lscService: LocalScienceCacheProvider, public rscService: RemoteScienceCacheProvider, public locationTracker: LocationTrackerProvider, public routeProvider: RouteProvider, public visitProvider: VisitProvider, private ref: ChangeDetectorRef, private device: Device) {\n    var ticks = 1\n    setInterval(() => {\n      if (this.currentRoute !== null) {\n        if (!this.warningShown) {\n          this.startWarningAlert()\n          this.warningShown = true\n        }\n        if (!this.map) {\n          this.map = L.map('map', {\n            center: [40, -105],\n            zoom: 16,\n            layers: [this.LAYER_OCM.layer, this.LAYER_OSM.layer]\n          })\n          this.getWayPoints()\n          this.mapLoaded = true\n        }\n        this.ref.markForCheck();\n        if (ticks == this.updateTimeSecs && this.mapLoaded == true) {\n          if (this.onVisit) {\n            this.setCurrentLocation()\n            if (this.compass.waypoint_number != 0) {\n              this.updateWaypointFinder()\n            }\n            this.visitProvider.updateWaypoints()\n            this.updateWaypoints()\n          }\n          ticks = 1\n        }\n        ticks++\n      }\n    }, 1000)\n  }\n\n  visitStatusChanged() {\n    if (this.visitToggle) {\n      this.startVisit()\n    } else {\n      this.stopVisit()\n    }\n  }\n\n  rotate(deg) {\n    return 'rotate(' + deg.toString() + 'deg)';\n  }\n  \n  removeRoute() {\n    this.lscService.deleteRoute(this.currentRoute)\n    this.navCtrl.pop()\n  }\n\n  startVisit() {\n    this.visitProvider.setOnVisit(true)\n    this.currentVisitSubscription = this.visitProvider._currentVisit.subscribe(currentVisit=> {\n      this.currentVisit = currentVisit\n    })    \n    this.startVisitAlert()\n    this.startGPS()\n  }\n\n  stopVisit() {\n    this.currentVisit.route_id == this.currentRoute.route_id\n    this.currentVisit.route_name == this.currentRoute.name\n    this.visitProvider.setOnVisit(false)\n    this.cleanUpVisit()\n    this.uploadAlert()\n    this.stopGPS()\n  }\n\n  cleanUpVisit() {\n    for (var wi in this.currentVisit.waypoints) {\n      for (var dri in this.currentVisit.waypoints[wi].data_requests) {\n        delete this.currentVisit.waypoints[wi].data_requests[dri].request_help\n        delete this.currentVisit.waypoints[wi].data_requests[dri].description\n        delete this.currentVisit.waypoints[wi].data_requests[dri].image\n        delete this.currentVisit.waypoints[wi].data_requests[dri].question\n        delete this.currentVisit.waypoints[wi].data_requests[dri].request_type\n        delete this.currentVisit.waypoints[wi].data_requests[dri].placeholder\n        delete this.currentVisit.waypoints[wi].data_requests[dri].options\n      }\n      delete this.currentVisit.waypoints[wi].distance\n      delete this.currentVisit.waypoints[wi].bearing\n      delete this.currentVisit.waypoints[wi].name\n      delete this.currentVisit.waypoints[wi].longitude\n      delete this.currentVisit.waypoints[wi].latitude\n    }       \n  }\n\n  startVisitAlert() {\n    let alert = this.alertController.create({\n      title: 'Starting Visit!',\n      subTitle: 'Find waypoints and collect data.  As you answer questions and take pictures, your data is saved to the phone. When you are finished, stop the visit and upload it to the remote server, or wait until you have an Internet connection and save it from the Visits page.',\n      buttons: ['OK']\n    })\n    alert.present()\n  }\n\n  startWarningAlert() {\n    let alert = this.alertController.create({\n      title: 'Warning!',\n      subTitle: this.currentRoute.warning,\n      buttons: ['OK']\n    })\n    alert.present()\n  }\n\n  uploadAlert() {\n    let alert = this.alertController.create({\n      title: 'Upload Data',\n      message: 'Do you want to upload this data to the remove service right now?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            this.visitProvider.saveCurrentVisit()\n          }\n        },\n        {\n          text: 'Upload Data',\n          handler: data => {\n            this.uploadVisit()\n          }\n      }\n      ]\n    })\n    alert.present();\n  }\n\n  waypointAlert(index, name, distance) {\n    let alert = this.alertController.create({\n      title: 'Near a waypoint!',\n      subTitle: name,\n      message: \"You're within \" + distance + \" meters of the '\" + name + \"' waypoint.  Select 'Investigate' to check it out.\",\n      buttons: [\n      {\n        text: 'Dismiss',\n        role: 'cancel',\n        handler: () => {}\n      },\n      {\n        text: 'Investigate',\n        handler: () => {\n          this.investigatingWaypoint = true\n          this.navCtrl.push(WaypointPage, {'id': index})\n        }\n      }\n    ]})\n    alert.present();\n  }\n\n  uploadVisit() {\n    var device_info = {\n      'cordova': this.device.cordova,\n      'uuid': this.device.uuid,\n      'model': this.device.model,\n      'platform': this.device.platform,\n      'version': this.device.version,\n      'manufacturer': this.device.manufacturer,\n      'isVirtual': this.device.isVirtual,\n      'serial': this.device.serial\n    }  \n    this.rscService.postVisit(this.currentVisit, device_info).subscribe(\n      data => {\n        if (data['visit_added']) {\n          this.currentVisit.submitted = data['visit_added']\n        } else {\n          this.currentVisit.submitted = false\n        }\n        this.visitProvider.saveCurrentVisit()\n      }\n    )\n  }\n\n  startGPS() {\n    this.locationTracker.startTracking()\n    this.currentLocationSubscription = this.locationTracker._currentLocation.subscribe(currentLocation=> {\n      this.currentLocation = currentLocation\n    })\n    this.updateWaypointFinder()\n  }\n\n  stopGPS() {\n    this.locationTracker.stopTracking()\n  }\n\n  waypointSelected(waypointId) {\n    this.investigatingWaypoint = true\n    this.navCtrl.push(WaypointPage, {'id': waypointId})\n  }\n\n  previousWaypoint() {\n      this.compass.waypoint = this.compass.waypoint - 1;\n      if (this.compass.waypoint == -1) {\n        this.compass.waypoint = this.waypoints.length - 1;\n      }\n      this.updateWaypointFinder();\n    }\n\n  nextWaypoint() {\n    this.compass.waypoint = this.compass.waypoint + 1;\n    if (this.compass.waypoint == (this.waypoints.length)) {\n      this.compass.waypoint = 0;\n    }\n    this.updateWaypointFinder();\n  }\n\n  updateWaypointFinder() {\n    this.visitProvider.updateWaypoints()\n    this.compass.waypoint_number = this.compass.waypoint + 1;\n    this.compass.waypoint_title = this.currentVisit.waypoints[this.compass.waypoint].name;\n    var compass_distance_meters = Math.round(parseFloat(this.currentVisit.waypoints[this.compass.waypoint].distance))\n    if (compass_distance_meters > 1000) {\n      this.compass.waypoint_distance = (compass_distance_meters / 1000).toString() + ' kilometers'\n    } else {\n      this.compass.waypoint_distance = compass_distance_meters.toString() + ' meters'\n    }\n    var compass_bearing = Math.round(parseFloat(this.currentVisit.waypoints[this.compass.waypoint].bearing))\n    if (this.compass.current_speed <= 0) {\n      this.compass.waypoint_bearing = compass_bearing.toString() + ''\n    } else {\n      this.compass.waypoint_bearing = compass_bearing.toString() + ''\n    }\n    if (this.compass.current_heading) {\n      this.compass.true_bearing = Math.round(parseInt(this.currentVisit.waypoints[this.compass.waypoint].bearing) - this.compass.current_heading);\n      if (this.compass.true_bearing < 0) {\n        this.compass.true_bearing = this.compass.true_bearing + 360;\n      }\n    } else {\n      this.compass.true_bearing = parseInt(this.compass.waypoint_bearing)\n    }\n  }\n\n  setCurrentLocation() {\n    var currentIcon = L.icon({\n        iconUrl: 'assets/images/current_location.png',\n        iconSize: [30, 45],\n        iconAnchor: [15, 45],\n        popupAnchor: [0, -46]\n    })\n    if (this.currentLocation.coords) {\n      if (this.currentLocationMarker) {\n        this.currentLocationMarker.setLatLng([this.currentLocation.coords.latitude, this.currentLocation.coords.longitude]);\n      } else {\n        this.currentLocationMarker = L.marker([this.currentLocation.coords.latitude, this.currentLocation.coords.longitude], {icon: currentIcon}).addTo(this.map)\n      }\n      this.currentLocationMarker.bindPopup('<b>Current Location</b><br />Latitude: ' + this.currentLocation.coords.latitude +'<br />Longitude: ' + this.currentLocation.coords.longitude)\n      this.map.panTo(new L.LatLng(this.currentLocation.coords.latitude, this.currentLocation.coords.longitude))\n      this.compass.current_heading = Math.round(this.currentLocation.coords.heading);\n      this.compass.current_accuracy = this.currentLocation.coords.accuracy;\n      if (this.currentLocation.coords.speed) {\n        this.compass.current_speed = this.currentLocation.coords.speed.toFixed(2);\n      }\n      else {\n        this.compass.current_speed = 0;\n      }\n    }\n  }\n\n  updateWaypoints() {\n    for (var waypoint of this.currentVisit.waypoints) {\n      if ((Math.round(parseFloat(waypoint.distance)) < 5) && (!this.investigatingWaypoint)) {\n        if (waypoint.alert != true) {\n          this.waypointAlert(waypoint['id'], waypoint['name'], waypoint['distance'])\n          waypoint.alert = true\n        }\n      }\n      if (this.leafletWaypointMarkers[waypoint['id']]) {\n        this.leafletWaypointMarkers[waypoint['id']].bindPopup(waypoint.message)      \n      }\n    }    \n  }\n\n  getWayPoints() {\n    if (this.currentRoute && this.currentRoute.waypoints) {\n      var key = 0;\n      for (var waypoint of this.currentRoute.waypoints) {\n        this.addPoint(waypoint.latitude, waypoint.longitude, waypoint.name, key, waypoint.waypoint_id);\n        this.waypoints[key] = {\n            index: waypoint.key,\n            name: waypoint.name,\n            lat: waypoint.latitude,\n            long: waypoint.longitude,\n            id: waypoint.waypoint_id,\n            distance: null,\n            bearing: null\n        };\n        key = key + 1;\n      }\n    }\n    if (this.waypointMarkers && this.waypointMarkers[0] && this.waypointMarkers[0]['lat'] && this.waypointMarkers[0]['lng']) {\n      for (var marker of this.waypointMarkers) {\n        this.leafletWaypointMarkers[marker['id']] = L.marker([marker.lat, marker.lng], {icon: marker.icon}).addTo(this.map)\n        this.leafletWaypointMarkers[marker['id']].bindPopup(marker.message)\n      }\n      this.map.panTo(new L.LatLng(this.waypointMarkers[0]['lat'],this.waypointMarkers[0]['lng']))\n    }\n  }\n\n  addPoint(latitude, longitude, name, key, id) {\n    if (typeof(latitude) == 'string') {\n      latitude = parseFloat(latitude)\n    }\n    if (typeof(longitude) == 'string') {\n      longitude = parseFloat(longitude)\n    }\n    var waypointIcons = [L.icon({\n        iconUrl: 'assets/images/waypoint_1.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_2.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_3.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_4.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_5.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_6.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_7.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_8.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n      }), L.icon({\n        iconUrl: 'assets/images/waypoint_9.png',\n        iconSize: [30, 45], // size of the icon\n        iconAnchor: [15, 45], // point of the icon which will correspond to marker's location\n        popupAnchor: [0, -46] // point from which the popup should open relative to the iconAnchor\n    })]\n    var html = '<p><strong>' + name + '</strong> - GPS is not currently active.  To get distance to waypoint, you must first start a visit.</p>'// + '<a (click)=\"clicked()\">Click</a>' //+ '<a onclick=\"{{ waypointSelected(' + id + ') }}\">View ' + name + ' Waypoint</a>'\n    this.map.center = {\n      lat: this.getCenterY(),\n      lng: this.getCenterX(),\n      zoom: this.getDefaultZoom()\n    }\n    this.map.defaults = {\n      scrollWheelZoom: false,\n      zoomControlPosition: 'bottomleft',\n    }\n    this.waypointMarkers[key] = {\n      id: id,\n      lat: latitude,\n      lng: longitude,\n      icon: waypointIcons[key],\n      message: html,\n      focus: false,\n      draggable: false\n    }\n  }\n\n  getCenterX(){\n    // to be calculated from site bounding box\n  }\n\n  getCenterY() {\n    // to be calculated from site bounding box\n  }\n\n  getDefaultZoom() {\n    // to be calculated from site bounding box\n  }\n\n \n  mapShowSat() {\n    this.map.removeLayer(this.LAYER_OSM.layer);\n    this.map.addLayer(this.LAYER_OCM.layer);\n    this.onStreet = false\n    this.mapLayer = 'sat'\n  }\n\n  mapShowStreet(){\n    this.map.removeLayer(this.LAYER_OCM.layer);\n    this.map.addLayer(this.LAYER_OSM.layer);\n    this.onStreet = true\n    this.mapLayer = 'street'\n  }\n\n  ionViewWillEnter() {\n    this.investigatingWaypoint = false\n  }\n\n  ionViewWillUnload() {\n    if (this.onVisit) {\n      this.stopVisit()\n    }\n  }\n\n  ngOnInit() {\n    this.id = this.navParams.get('id')\n    if (this.id) {\n      this.routeProvider.getLocalRoute(this.id)\n      this.currentRouteSubscription = this.routeProvider._currentRoute.subscribe(currentRoute=> {\n        this.currentRoute = currentRoute;\n      })\n      this.onVisitSubscription = this.visitProvider._onVisit.subscribe(onVisit=> {\n      this.onVisit = onVisit\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/route/route.ts","import { Component, OnInit } from '@angular/core'\nimport { Camera } from '@ionic-native/camera';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular'\nimport { Subscription } from 'rxjs/Subscription'\nimport { VisitProvider } from '../../providers/visit/visit'\nimport { RouteProvider } from '../../providers/route/route'\n\n/**\n * Generated class for the WaypointPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-waypoint',\n  templateUrl: 'waypoint.html',\n})\nexport class WaypointPage  implements OnInit{\n  id: number\n  currentWaypoint: any = null\n  currentWaypointSubscription: Subscription;\n  currentVisit: any = null\n  currentVisitSubscription: Subscription;\n  onVisit:boolean = false\n  onVisitSubscription: Subscription\n  waypointFound: boolean = false\n  waypoinFoundSubscription: Subscription\n  public base64Image: string\n  options:any\n  showHint: boolean = false\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public routeProvider: RouteProvider, public visitProvider: VisitProvider, private camera: Camera) {\n  }\n  \n  takePicture(index){\n    this.options = {\n      quality: 100,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      saveToPhotoAlbum: true,\n      correctOrientation: true,\n      destinationType: this.camera.DestinationType.DATA_URL,\n    }\n    this.camera.getPicture(this.options)\n      .then((imageData)=>{\n        var base64Image = \"data:image/jpeg;base64,\" + imageData\n        this.currentVisit.waypoints[index].photos.push({'data': base64Image})\n      })\n      .catch(error => { alert(error) })\n  }\n  \n  setWaypointFound(id) {\n    this.visitProvider.setWaypointFound(id)\n  }\n\n  questionOptions(options) {\n    return JSON.parse(options)\n  }\n\n  ionViewDidEnter() {\n    this.visitProvider.getWaypointFound(this.id)\n  }\n\n  ngOnInit() {\n    this.id = this.navParams.get('id')\n    if (this.id) {\n      this.routeProvider.getWaypoint(this.id)\n      this.currentWaypointSubscription = this.routeProvider._currentWaypoint.subscribe(currentWaypoint=> \n      {\n        this.currentWaypoint = currentWaypoint;\n      })\n    }\n    this.onVisitSubscription = this.visitProvider._onVisit.subscribe(onVisit=> {\n      this.onVisit = onVisit\n    })\n    this.currentVisitSubscription = this.visitProvider._currentVisit.subscribe(currentVisit=> {\n      this.currentVisit = currentVisit\n    })\n    this.waypoinFoundSubscription = this.visitProvider._waypointFound.subscribe(waypointFound=> {\n      this.waypointFound = waypointFound\n    })\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/waypoint/waypoint.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 174;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 174\n// module chunks = 4","var map = {\n\t\"../pages/registration/registration.module\": [\n\t\t711,\n\t\t3\n\t],\n\t\"../pages/route/route.module\": [\n\t\t713,\n\t\t2\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t712,\n\t\t1\n\t],\n\t\"../pages/waypoint/waypoint.module\": [\n\t\t714,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 219;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 219\n// module chunks = 4","import { Component } from '@angular/core';\n\nimport { HelpPage } from '../help/help';\nimport { VisitsPage } from '../visits/visits';\nimport { RoutesPage } from '../routes/routes';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = RoutesPage;\n  tab2Root = VisitsPage;\n  tab3Root = HelpPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { SettingsPage } from '../settings/settings'\nimport { PopoverController } from 'ionic-angular';\nimport { LocalScienceCacheProvider } from '../../providers/local-science-cache/local-science-cache'\n\n@Component({\n  selector: 'page-help',\n  templateUrl: 'help.html'\n})\n\nexport class HelpPage {\n\n  constructor(public navCtrl: NavController, public lscService: LocalScienceCacheProvider, private popoverCtrl: PopoverController) {\n  }\n\n  presentPopover() {\n    let popover = this.popoverCtrl.create(SettingsPage);\n    popover.present()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/help/help.ts","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { Network } from \"@ionic-native/network\";\nimport { Device } from \"@ionic-native/device\"\nimport { RouteProvider } from '../../providers/route/route'\nimport { LocalScienceCacheProvider } from '../../providers/local-science-cache/local-science-cache'\nimport { RemoteScienceCacheProvider } from '../../providers/remote-science-cache/remote-science-cache'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/add/operator/map'\n\ndeclare var navigator: any;\ndeclare var Connection: any;\n\n@Component({\n  selector: 'page-visits',\n  templateUrl: 'visits.html'\n})\nexport class VisitsPage implements OnInit {\n\n  localVisitsSubscription:Subscription\n  localVisitsLoadedSubscription:Subscription\n  localVisitsList: any\n  loadVisitsLoaded: boolean = false\n  allowUploads: boolean = false\n  device_info: any = {}\n\n  constructor(public navCtrl: NavController, public routeProvider: RouteProvider, public rscService: RemoteScienceCacheProvider, public lscService: LocalScienceCacheProvider, private network: Network, public platform: Platform, private device: Device) {\n  }\n\n  ionViewWillEnter() {\n    this.lscService.loadVisits().then(localVisits =>{\n      console.log(localVisits)\n    })\n  }\n\n  ionViewDidEnter() {\n    let networkType = this.network.type\n    if (networkType = 'wifi') {\n      this.allowUploads = true\n    }\n    this.device_info = {\n      'cordova': this.device.cordova,\n      'uuid': this.device.uuid,\n      'model': this.device.model,\n      'platform': this.device.platform,\n      'version': this.device.version,\n      'manufacturer': this.device.manufacturer,\n      'isVirtual': this.device.isVirtual,\n      'serial': this.device.serial\n    }\n  }\n\n  uploadVisit(visit_index) {\n    this.rscService.postVisit(this.localVisitsList[visit_index], this.device_info).subscribe(\n      data => {\n        if (data['visit_added']) {\n          this.localVisitsList[visit_index].submitted = data['visit_added']\n        } else {\n          this.localVisitsList[visit_index].submitted = false\n        }\n        this.lscService.updateVisit(this.localVisitsList[visit_index])\n      }\n    )\n  }\n\n  formatDate(timedate) {\n    if (!timedate) {\n      return false\n    }\n    var year = timedate.substring(0,4)\n    var month = timedate.substring(5,7)\n    var day = timedate.substring(8,10)\n    var thisTime = timedate.substring(11,19)\n    return month + '-' + day + '-' + year + ', ' + thisTime\n  }\n\n  ngOnInit() {\n    this.localVisitsSubscription = this.lscService._localVisitsList.subscribe(localRoutesList=> {\n      this.localVisitsList = localRoutesList\n    })\n    this.localVisitsLoadedSubscription = this.lscService._localVisitsLoaded.subscribe(localRoutesLoaded=> {\n      this.loadVisitsLoaded = localRoutesLoaded\n    })\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/visits/visits.ts","import { Component, OnInit } from '@angular/core'\nimport { AlertController } from 'ionic-angular'\nimport { NavController } from 'ionic-angular'\nimport { Http } from '@angular/http'\nimport { Subscription } from 'rxjs/Subscription'\nimport 'rxjs/add/operator/map'\nimport { RoutePage } from '../route/route'\nimport { LocalScienceCacheProvider } from '../../providers/local-science-cache/local-science-cache'\nimport { RemoteScienceCacheProvider } from '../../providers/remote-science-cache/remote-science-cache'\n\n@Component({\n  selector: 'page-routes',\n  templateUrl: 'routes.html',\n})\nexport class RoutesPage implements OnInit {\n\n  newRoute: any\n  localRoutesSubscription:Subscription\n  localRoutesLoadedSubscription:Subscription\n  serviceRoutesSubscription:Subscription\n  badLoadSubscription:Subscription\n  savingRouteSubscription:Subscription\n  localRoutes: any = []\n  remoteRoutes: any = []\n  localRoutesList: any = []\n  badLoad:boolean = false\n  savingRoute: boolean = false\n  localRoutesLoaded: boolean = false\n  displayCards: any = []\n  \n  constructor(public http: Http, public alertController: AlertController, public navCtrl: NavController, public lscService: LocalScienceCacheProvider, public rscService: RemoteScienceCacheProvider) {\n  }\n\n  loadRoute(id) {\n    this.navCtrl.push(RoutePage, {'id': id})\n  }\n  \n  removeRoute(index) {\n    this.lscService.deleteRoute(this.localRoutesList[index])\n    this.lscService.loadRoutes().then(data=> {\n      this.rscService.loadRoutes(data)\n    })    \n  }\n\n  downloadRoute(id) {\n    this.rscService.saveRoute(id)\n  }\n\n  ionViewWillEnter() {\n    this.lscService.loadRoutes().then(localRoutes => {\n      this.rscService.loadRoutes(localRoutes)\n    })    \n  }\n\n  ngOnInit() {\n    this.serviceRoutesSubscription = this.rscService._routesList.subscribe(routesList=> {\n      this.remoteRoutes = routesList\n    })\n    this.localRoutesSubscription = this.lscService._localRoutesList.subscribe(localRoutesList=> {\n      this.localRoutesList = localRoutesList\n    })\n    this.localRoutesLoadedSubscription = this.lscService._localRoutesLoaded.subscribe(localRoutesLoaded=> {\n      this.localRoutesLoaded = localRoutesLoaded\n    })\n    this.badLoadSubscription = this.rscService._badLoad.subscribe(badLoad=> {\n      this.badLoad = badLoad\n    })\n    this.savingRouteSubscription = this.rscService._savingRoute.subscribe(savingRoute=> {\n      this.savingRoute = savingRoute\n    })\n  }\n\n  infoAlert(index) {\n    let alert = this.alertController.create({\n      title: this.remoteRoutes[index].name,\n      subTitle: this.remoteRoutes[index].description,\n      message: '<span>Difficulty: ' + this.remoteRoutes[index].route_difficulty.name + '</span><br /><span>Length: ' + this.remoteRoutes[index].route_length.length + '</span><br /><span>Waypoints: ' + this.remoteRoutes[index].waypoints_count + '</span>',\n      buttons: [\n      {\n        text: 'Dismiss',\n        role: 'cancel',\n        handler: () => {\n          console.log('Dismiss clicked');\n        }\n      },\n      {\n        text: 'Download',\n        handler: () => {\n          this.downloadRoute(this.remoteRoutes[index].id)\n        }\n      }\n    ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/routes/routes.ts","import { Injectable } from '@angular/core';\nimport PouchDB from 'pouchdb';\n//import {Observable} from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the LocalScienceCacheProvider provider.\n\n  This service handles data into and out of the lcoal Pouch Database.\n*/\n@Injectable()\nexport class LocalScienceCacheProvider {\n\n  routesDb: any\n  routesData: any\n  remote: any\n\n  visitsDb: any\n  visitsData: any\n\n  localVisitsLoaded:boolean = false\n  _localVisitsLoaded = new BehaviorSubject <any> ([])\n  localVisitsLoaded$ = this._localVisitsLoaded.asObservable()\n\n  localVisitsList = []\n  _localVisitsList = new BehaviorSubject <any> ([])\n  localVisitsList$ = this._localVisitsList.asObservable()\n\n  userConfigDb: any\n  userConfigData: any\n\n  localRoutesLoaded:boolean = false\n  _localRoutesLoaded = new BehaviorSubject <any> ([])\n  localRoutesLoaded$ = this._localRoutesLoaded.asObservable()\n\n  localRoutesList = []\n  _localRoutesList = new BehaviorSubject <any> ([])\n  localRoutesList$ = this._localRoutesList.asObservable()\n\n  currentRoute:any = null\n  _currentRoute = new BehaviorSubject <any> ([]);\n  currentRoute$ = this._currentRoute.asObservable();\n\n  constructor() {\n    this.routesDb = new PouchDB('routes')\n    this.visitsDb = new PouchDB('visits')\n    this.userConfigDb = new PouchDB('userConfig')\n  }\n\n// Visits DB Stuff \n\n  wipeVisitsDB() {\n    this.visitsDb.destroy().then(function (response) {\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  saveVisit(visit) {\n    console.log(visit)\n    this.visitsDb.post(visit)\n  }\n\n  updateVisit(visit) {\n    this.visitsDb.put(visit).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  loadVisits() {\n    if (this.localVisitsList.length > 0) {\n      this.localVisitsLoaded = true\n      this._localVisitsLoaded.next(this.localVisitsLoaded)\n      this._localVisitsList.next(this.localVisitsList)\n      return Promise.resolve(this.visitsData);\n    }\n    return new Promise(resolve => {\n      this.localVisitsLoaded = false\n      this._localVisitsLoaded.next(this.localVisitsLoaded)\n      this.visitsDb.allDocs({\n        include_docs: true\n      }).then((results) => {\n        results.rows.map((row) => {\n          this.localVisitsList.push(row.doc)\n        })\n        this._localVisitsList.next(this.localVisitsList)\n        this.localVisitsLoaded = true\n        this._localVisitsLoaded.next(this.localVisitsLoaded)\n        resolve(this.localVisitsList)\n      }).catch((error) => {\n        console.log(error)\n        this.localVisitsLoaded = false\n        this._localVisitsLoaded.next(this.localVisitsLoaded)\n      });\n    })\n  }\n\n// userConfig DB Stuff\n  saveUserConfig(userConfig) {\n    this.userConfigDb.post(userConfig)\n  }\n\n\n// Routes DB Stuff\n\n  wipeRoutesDB() {\n    this.routesDb.destroy().then(function (response) {\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  saveRoute(route) {\n    this.routesDb.post(route)\n    this.localRoutesList = []\n    this._localRoutesList.next(this.localRoutesList)\n  }\n\n  deleteRoute(route){\n    this.routesDb.remove(route).then(data=>{\n      this.localRoutesList = []\n      this._localRoutesList.next(this.localRoutesList)\n      this.loadRoutes().then(localRoutes=>{\n        this._localRoutesList.next(this.localRoutesList)\n      })\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  updateRoute(route){\n    this.routesDb.put(route).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  loadRoute(routeId) {\n    this.currentRoute = this.routesDb.get(routeId).then((result) => {\n      this.currentRoute = result\n      this._currentRoute.next(this.currentRoute);\n    }).catch((err) => {\n      console.log(err)\n    })\n  }\n\n  getRoute(routeId) {\n    return new Promise(resolve => {\n      this.routesDb.get(routeId).then((result) => {\n        this.currentRoute = result\n        resolve(this.currentRoute)\n        }).catch((err) => {\n      })    \n    })\n  }\n\n  loadRoutes() {\n    if (this.localRoutesList.length > 0) {\n      this.localRoutesLoaded = true\n      this._localRoutesLoaded.next(this.localRoutesLoaded)\n      this._localRoutesList.next(this.localRoutesList)\n      return Promise.resolve(this.routesData);\n    }\n    return new Promise(resolve => {\n      this.localRoutesLoaded = false\n      this._localRoutesLoaded.next(this.localRoutesLoaded)\n      this.routesDb.allDocs({\n        include_docs: true\n      }).then((results) => {\n        results.rows.map((row) => {\n          this.localRoutesList.push(row.doc)\n        })\n        this._localRoutesList.next(this.localRoutesList)\n        this.localRoutesLoaded = true\n        this._localRoutesLoaded.next(this.localRoutesLoaded)\n        resolve(this.localRoutesList)\n      }).catch((error) => {\n        this.localRoutesLoaded = false\n        this._localRoutesLoaded.next(this.localRoutesLoaded)\n      });\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/local-science-cache/local-science-cache.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { Camera } from '@ionic-native/camera'\nimport { BackgroundGeolocation } from '@ionic-native/background-geolocation'\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Device } from '@ionic-native/device';\nimport { Network } from '@ionic-native/network';\nimport { MyApp } from './app.component';\n\nimport { HelpPage } from '../pages/help/help';\nimport { VisitsPage } from '../pages/visits/visits';\nimport { RoutesPage } from '../pages/routes/routes';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { RoutePage } from '../pages/route/route';\nimport { WaypointPage } from '../pages/waypoint/waypoint';\nimport { SettingsPage } from '../pages/settings/settings';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { LocalScienceCacheProvider } from '../providers/local-science-cache/local-science-cache';\nimport { RemoteScienceCacheProvider } from '../providers/remote-science-cache/remote-science-cache';\nimport { LocationTrackerProvider } from '../providers/location-tracker/location-tracker';\nimport { RouteProvider } from '../providers/route/route';\nimport { VisitProvider } from '../providers/visit/visit';\nimport {RegistrationPage} from \"../pages/registration/registration\";\nimport {IonicStorageModule} from \"@ionic/storage\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HelpPage,\n    VisitsPage,\n    RoutesPage,\n    RoutePage,\n    TabsPage,\n    SettingsPage,\n    WaypointPage,\n    RegistrationPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp, {\n      scrollAssist: false,\n      autoFocusAssist: false\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HelpPage,\n    VisitsPage,\n    RoutesPage,\n    RoutePage,\n    WaypointPage,\n    SettingsPage,\n    TabsPage,\n    RegistrationPage\n  ],\n  providers: [\n    HttpModule,\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    LocalScienceCacheProvider,\n    RemoteScienceCacheProvider,\n    LocationTrackerProvider,\n    BackgroundGeolocation,\n    Geolocation,\n    Camera,\n    Device,\n    Network,\n    RouteProvider,\n    VisitProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export const environment = {\n    title: 'ScienceCache App',\n    logo_url: '',\n    contact: {\n        email: \"\",\n        phone: \"\",\n        mail: {\n            name: \"\",\n            secondary_name: null,\n            streetAddressOne: \"\",\n            streetAddressTwo: \"\",\n            city: \"\",\n            state: \"\",\n            zip: \"\"\n        }\n    },\n    owning_agency: '',\n    version: '2.0.0dev',\n    serviceUrl: 'https://ede.cr.usgs.gov/sciencecache-service',\n    googleClientId: '106633728735-rg42fv648mjjp9pvpk93b9d6l9jkhnuv.apps.googleusercontent.com',\n    // serviceUrl: 'http://localhost:8000',\n    production: false,\n    debug: true\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { LocalScienceCacheProvider } from '../local-science-cache/local-science-cache'\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { environment } from '../../environments/environment';\n\n\n/*\n  Generated class for the RemoteScienceCacheProvider provider.\n\n  This service handles data into and out of the Remove ScienceCache (python) microservice, which\n  in turn handles data into and out of the postgres database.\n*/\n@Injectable()\nexport class RemoteScienceCacheProvider {\n  serviceUrl: string = environment.serviceUrl;\n\n  serviceData: any\n  currentRoute: any\n  fullRoutesList:any = []\n  serviceRoutes: any = []\n  routesList:any = []\n  _routesList = new BehaviorSubject < any > ([])\n  routesList$ = this._routesList.asObservable()\n\n  badLoad:boolean = false\n  _badLoad = new BehaviorSubject <any> ([])\n  badLoad$ = this._badLoad.asObservable()\n\n  savingRoute:boolean = false\n  _savingRoute = new BehaviorSubject <any> ([])\n  savingRoute$ = this._savingRoute.asObservable()\n  base_sciencecache_service_url = \"https://api.sciencebase.gov/sciencecache-service/\"\n\n  constructor(public http: Http, public lscService: LocalScienceCacheProvider) {\n  }\n\n  saveRoute(id) {\n    this.savingRoute = true\n    this._savingRoute.next(this.savingRoute)\n    for (var r in this.routesList) {\n      if (this.routesList[r].route_id == id) {\n        this.routesList.splice(r, 1)\n        this._routesList.next(this.routesList)\n        break\n      }\n    }\n    return new Promise(resolve=>{\n      this.http.get(this.base_sciencecache_service_url + 'routes/' + id)\n      .map(response=>response.json())\n      .subscribe(data => {\n        this.currentRoute = data\n        this.lscService.saveRoute(this.currentRoute)\n        this.lscService.loadRoutes().then(localRoutes=>{\n          this.lscService._localRoutesList.next(localRoutes)\n        })\n        this.savingRoute = false\n        this._savingRoute.next(this.savingRoute)\n        resolve(this.currentRoute)\n      })\n    })\n  }\n\n  postVisit(visit, deviceInfo) {\n    var visitURL = this.base_sciencecache_service_url + 'visits/'\n    var headers = new Headers()\n    headers.append('Content-Type', 'application/json')\n    visit.device_info = deviceInfo\n    return this.http.post(visitURL, visit, { headers: headers })\n      .map(response => {\n        return response.json()\n      })\n  }\n\n  loadRoutes(localRoutes) {\n    this.savingRoute = false\n    this._savingRoute.next(this.savingRoute)\n    this.getRoutes().subscribe(\n      data => {\n        this.routesList = data;\n      if (localRoutes) {\n        for (var l in localRoutes) {\n          for (var r in this.routesList) {\n            if (this.routesList[r].route_id == localRoutes[l].route_id) {\n              this.routesList.splice(r, 1)\n            }\n          }\n        }\n      }\n      this._routesList.next(this.routesList)\n    })\n  }\n\n  getRoutes(all_fields=false) {\n    var time = new Date()\n    var routesUrl = this.base_sciencecache_service_url + 'routes/'\n    return this.http.get(routesUrl)\n      .map(response => {\n        time = new Date()\n        return response.json()\n      })\n      .catch(this.handleError)\n  }\n\n  fetchRouteSummaries(reloadRoutes = false) {\n    var routesUrl = this.base_sciencecache_service_url + 'routes/';\n    //  This is BROKEN and should be fixed.\n    if ((this.fullRoutesList.length > 0) && (reloadRoutes == false)) {\n      return Promise.resolve(resolve=> { return this.fullRoutesList})\n    }\n    return new Promise(resolve => {\n      this.http.get(routesUrl)\n        .map(res => res.json())\n        .subscribe(data => {\n          this.routesList = data\n          this.fullRoutesList = Object.assign({}, this.routesList)\n          resolve(this.routesList)\n        })\n    })\n  }\n\n  postDeviceData(data) {\n    const URL = `${this.serviceUrl}/deviceinfo`;\n    console.log('Device post url:', URL)\n    return this.http.post(URL, data)\n      .map(response => response.json()).catch(this.handleError)\n  }\n\n  private handleError(error: any): Promise < any > {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/remote-science-cache/remote-science-cache.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport 'rxjs/add/operator/map';\nimport { LocalScienceCacheProvider } from '../local-science-cache/local-science-cache'\n\n@Injectable()\nexport class RouteProvider {\n\n  currentRoute:any = {}\n  _currentRoute = new BehaviorSubject <any> ([])\n  currentRoute$ = this._currentRoute.asObservable()\n  currentWaypoint: any \n  _currentWaypoint = new BehaviorSubject <any> ([])\n  currentWaypoint$ = this._currentWaypoint.asObservable()\n\n  constructor(public http: Http, public lscService: LocalScienceCacheProvider) {\n  }\n\n  sortWaypointsByID(array, key) {\n    return array.sort(function(a, b) {\n        var x = a[key]\n        var y = b[key]\n        return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n    });\n  }\n\n  getLocalRoute(RouteId) {\n     this.lscService.getRoute(RouteId).then(data=>{\n      this.currentRoute = data;\n      this.currentRoute.waypoints = this.sortWaypointsByID(this.currentRoute.waypoints, 'waypoint_id');\n      this._currentRoute.next(this.currentRoute)\n    })\n  }\n\n  getWaypoints() {\n    var routeWaypoints = []\n    if (this.currentRoute.waypoints.length > 0) {\n      for (var waypoint of this.currentRoute.waypoints) {\n        routeWaypoints.push({'id': waypoint.waypoint_id, 'name' : waypoint.name, 'latitude': waypoint.latitude, 'longitude': waypoint.longitude, 'distance': 0, 'bearing': 0, 'photos': [], 'data_requests': waypoint.data_requests, 'data': [], waypoint_found: false})\n      }\n    }\n    return routeWaypoints\n  }\n\n  getWaypoint(waypointId) {\n    if (this.currentRoute.waypoints.length <= 0) {\n      this.currentWaypoint = null\n    } else {\n      for (var waypoint in this.currentRoute.waypoints) {\n        if (this.currentRoute.waypoints[waypoint].waypoint_id == waypointId) {\n          this.currentWaypoint = this.currentRoute.waypoints[waypoint]\n          this.currentWaypoint.index = parseInt(waypoint)\n          console.log(this.currentWaypoint)\n          this.currentWaypoint.isFound = false\n        }\n      }\n    }\n    this._currentWaypoint.next(this.currentWaypoint)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/route/route.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { RegistrationPage } from \"../pages/registration/registration\";\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = null\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      statusBar.styleDefault();\n      splashScreen.hide();\n      // this.rootPage = TabsPage;\n      this.rootPage= RegistrationPage\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}